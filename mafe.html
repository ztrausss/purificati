<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homenagem para Mafe</title>
    <!-- Tailwind CSS CDN para estilos utilit√°rios -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React e ReactDOM CDNs para o funcionamento do aplicativo React -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel para transpilar JSX no navegador (apenas para desenvolvimento/demonstra√ß√£o) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Estilos CSS personalizados para a anima√ß√£o de piscar do cora√ß√£o -->
    <style>
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .animate-blink {
            animation-name: blink;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
        }
        /* Garantir que o corpo da p√°gina ocupe toda a altura */
        html, body, #root {
            height: 100%;
            margin: 0;
            overflow: hidden; /* Evita a barra de rolagem padr√£o do navegador */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Componente para desenhar uma √∫nica flor SVG
        // Aceita cor das p√©talas, escala e deslocamento para posicionamento
        const FlowerDrawing = ({ petalColor, scale = 1, offsetX = 0, offsetY = 0, onClick }) => (
          <svg
            width={200 * scale}
            height={200 * scale}
            viewBox="0 0 200 200"
            className="cursor-pointer"
            style={{
              transform: `translate(${offsetX}px, ${offsetY}px)`,
              transition: 'fill 0.3s ease-in-out, transform 0.2s ease-in-out', // Transi√ß√£o suave para cor e escala
            }}
            onClick={onClick}
          >
            {/* Caule */}
            <path d="M100 180 L100 100" stroke="#6B8E23" strokeWidth="8" strokeLinecap="round" />
            {/* Folhas */}
            <path d="M100 140 Q80 130 70 150 Q80 160 100 140" fill="#8BC34A" />
            <path d="M100 140 Q120 130 130 150 Q120 160 100 140" fill="#8BC34A" />
            {/* P√©talas - cor controlada pela prop */}
            <circle cx="100" cy="80" r="25" fill={petalColor} />
            <circle cx="120" cy="90" r="25" fill={petalColor} />
            <circle cx="80" cy="90" r="25" fill={petalColor} />
            <circle cx="90" cy="60" r="25" fill={petalColor} />
            <circle cx="110" cy="60" r="25" fill={petalColor} />
            {/* Centro da flor */}
            <circle cx="100" cy="80" r="15" fill="#FFD700" />
          </svg>
        );

        // Componente da paleta de cores
        const ColorPalette = ({ onSelectColor, onClose }) => {
          const colors = [
            { name: 'Azul', hex: '#0000FF' },
            { name: 'Roxo', hex: '#800080' },
            { name: 'Rosa', hex: '#FFC0CB' },
            { name: 'Vermelho', hex: '#FF0000' },
            { name: 'Amarelo', hex: '#FFFF00' },
            { name: 'Branco', hex: '#FFFFFF' },
          ];

          return (
            <div
              className="absolute z-30 bg-white p-4 rounded-lg shadow-xl flex flex-wrap gap-2 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" // Centralizado na tela
            >
              {colors.map((color) => (
                <button
                  key={color.hex}
                  className="w-8 h-8 rounded-full border-2 border-gray-300 hover:scale-110 transition-transform"
                  style={{ backgroundColor: color.hex }}
                  onClick={() => onSelectColor(color.hex)}
                  aria-label={`Selecionar cor ${color.name}`}
                ></button>
              ))}
              <button
                onClick={onClose}
                className="absolute top-1 right-1 text-gray-500 hover:text-gray-700 text-xl font-bold"
                aria-label="Fechar paleta de cores"
              >
                &times;
              </button>
            </div>
          );
        };

        // Componente para um cora√ß√£o piscante
        const BlinkingHeart = ({ x, y, delay, duration }) => (
          <div
            className="absolute text-pink-500 text-4xl animate-blink"
            style={{
              left: `${x}%`,
              top: `${y}%`,
              animationDelay: `${delay}s`,
              animationDuration: `${duration}s`,
              zIndex: 15, // Z-index para aparecer sobre a imagem, mas abaixo dos controles
            }}
          >
            &#x2764; {/* S√≠mbolo de cora√ß√£o Unicode */}
          </div>
        );

        // Componentes SVG para os porquinhos fofos
        const PiggyHappy = () => (
          <svg width="200" height="200" viewBox="0 0 200 200">
            {/* Body */}
            <ellipse cx="100" cy="120" rx="60" ry="40" fill="#FFB6C1" /> {/* Light Pink */}
            {/* Head */}
            <circle cx="100" cy="70" r="45" fill="#FFB6C1" />
            {/* Snout */}
            <ellipse cx="100" cy="80" rx="20" ry="15" fill="#FF69B4" /> {/* Hot Pink */}
            <circle cx="92" cy="78" r="3" fill="#FFFFFF" />
            <circle cx="108" cy="78" r="3" fill="#FFFFFF" />
            {/* Eyes */}
            <circle cx="80" cy="60" r="5" fill="#000000" />
            <circle cx="120" cy="60" r="5" fill="#000000" />
            {/* Smile */}
            <path d="M80 95 Q100 105 120 95" stroke="#000000" strokeWidth="2" fill="none" />
            {/* Ears */}
            <path d="M70 40 Q80 20 90 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            <path d="M130 40 Q120 20 110 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            {/* Legs */}
            <rect x="70" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
            <rect x="120" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
          </svg>
        );

        const PiggySad = () => (
          <svg width="200" height="200" viewBox="0 0 200 200">
            {/* Body */}
            <ellipse cx="100" cy="120" rx="60" ry="40" fill="#FFB6C1" />
            {/* Head */}
            <circle cx="100" cy="70" r="45" fill="#FFB6C1" />
            {/* Snout */}
            <ellipse cx="100" cy="80" rx="20" ry="15" fill="#FF69B4" />
            <circle cx="92" cy="78" r="3" fill="#FFFFFF" />
            <circle cx="108" cy="78" r="3" fill="#FFFFFF" />
            {/* Eyes (droopy) */}
            <path d="M75 58 C78 65 82 65 85 58" stroke="#000000" strokeWidth="2" fill="none" />
            <path d="M115 58 C118 65 122 65 125 58" stroke="#000000" strokeWidth="2" fill="none" />
            {/* Mouth (downturned) */}
            <path d="M80 95 Q100 85 120 95" stroke="#000000" strokeWidth="2" fill="none" />
            {/* Tears */}
            <circle cx="85" cy="70" r="3" fill="#ADD8E6" /> {/* Light Blue */}
            <circle cx="115" cy="70" r="3" fill="#ADD8E6" />
            {/* Ears */}
            <path d="M70 40 Q80 20 90 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            <path d="M130 40 Q120 20 110 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            {/* Legs */}
            <rect x="70" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
            <rect x="120" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
          </svg>
        );

        const PiggyAngry = () => (
          <svg width="200" height="200" viewBox="0 0 200 200">
            {/* Body */}
            <ellipse cx="100" cy="120" rx="60" ry="40" fill="#FFB6C1" />
            {/* Head */}
            <circle cx="100" cy="70" r="45" fill="#FFB6C1" />
            {/* Snout */}
            <ellipse cx="100" cy="80" rx="20" ry="15" fill="#FF69B4" />
            <circle cx="92" cy="78" r="3" fill="#FFFFFF" />
            <circle cx="108" cy="78" r="3" fill="#FFFFFF" />
            {/* Eyes (angry eyebrows) */}
            <line x1="75" y1="55" x2="85" y2="65" stroke="#000000" strokeWidth="3" />
            <line x1="115" y1="65" x2="125" y2="55" stroke="#000000" strokeWidth="3" />
            <circle cx="80" cy="60" r="5" fill="#000000" />
            <circle cx="120" cy="60" r="5" fill="#000000" />
            {/* Mouth (frown) */}
            <path d="M80 95 Q100 80 120 95" stroke="#000000" strokeWidth="2" fill="none" />
            {/* Ears */}
            <path d="M70 40 Q80 20 90 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            <path d="M130 40 Q120 20 110 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            {/* Legs */}
            <rect x="70" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
            <rect x="120" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
          </svg>
        );

        const PiggySerious = () => (
          <svg width="200" height="200" viewBox="0 0 200 200">
            {/* Body */}
            <ellipse cx="100" cy="120" rx="60" ry="40" fill="#FFB6C1" />
            {/* Head */}
            <circle cx="100" cy="70" r="45" fill="#FFB6C1" />
            {/* Snout */}
            <ellipse cx="100" cy="80" rx="20" ry="15" fill="#FF69B4" />
            <circle cx="92" cy="78" r="3" fill="#FFFFFF" />
            <circle cx="108" cy="78" r="3" fill="#FFFFFF" />
            {/* Eyes */}
            <circle cx="80" cy="60" r="5" fill="#000000" />
            <circle cx="120" cy="60" r="5" fill="#000000" />
            {/* Mouth (straight line) */}
            <line x1="85" y1="95" x2="115" y2="95" stroke="#000000" strokeWidth="2" />
            {/* Ears */}
            <path d="M70 40 Q80 20 90 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            <path d="M130 40 Q120 20 110 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            {/* Legs */}
            <rect x="70" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
            <rect x="120" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
          </svg>
        );

        const PiggyGlasses = () => (
          <svg width="200" height="200" viewBox="0 0 200 200">
            {/* Body */}
            <ellipse cx="100" cy="120" rx="60" ry="40" fill="#FFB6C1" />
            {/* Head */}
            <circle cx="100" cy="70" r="45" fill="#FFB6C1" />
            {/* Snout */}
            <ellipse cx="100" cy="80" rx="20" ry="15" fill="#FF69B4" />
            <circle cx="92" cy="78" r="3" fill="#FFFFFF" />
            <circle cx="108" cy="78" r="3" fill="#FFFFFF" />
            {/* Eyes */}
            <circle cx="80" cy="60" r="5" fill="#000000" />
            <circle cx="120" cy="60" r="5" fill="#000000" />
            {/* Glasses */}
            <rect x="70" y="55" width="60" height="15" rx="7.5" fill="none" stroke="#000000" strokeWidth="2" />
            <circle cx="70" cy="62.5" r="7.5" fill="none" stroke="#000000" strokeWidth="2" />
            <circle cx="130" cy="62.5" r="7.5" fill="none" stroke="#000000" strokeWidth="2" />
            {/* Ears */}
            <path d="M70 40 Q80 20 90 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            <path d="M130 40 Q120 20 110 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            {/* Legs */}
            <rect x="70" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
            <rect x="120" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
          </svg>
        );

        const PiggyKiss = () => (
          <svg width="200" height="200" viewBox="0 0 200 200">
            {/* Body */}
            <ellipse cx="100" cy="120" rx="60" ry="40" fill="#FFB6C1" />
            {/* Head */}
            <circle cx="100" cy="70" r="45" fill="#FFB6C1" />
            {/* Snout */}
            <ellipse cx="100" cy="80" rx="20" ry="15" fill="#FF69B4" />
            <circle cx="92" cy="78" r="3" fill="#FFFFFF" />
            <circle cx="108" cy="78" r="3" fill="#FFFFFF" />
            {/* Eyes */}
            <circle cx="80" cy="60" r="5" fill="#000000" />
            <circle cx="120" cy="60" r="5" fill="#000000" />
            {/* Kissy Mouth */}
            <path d="M90 95 C95 105 105 105 110 95" stroke="#000000" strokeWidth="2" fill="none" />
            {/* Small Heart next to mouth */}
            <path d="M125 90 L130 85 L135 90 C137 92 137 95 133 97 C129 99 125 97 125 90 Z" fill="#FF0000" />
            {/* Ears */}
            <path d="M70 40 Q80 20 90 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            <path d="M130 40 Q120 20 110 40 Z" fill="#FFB6C1" stroke="#FF69B4" strokeWidth="2" />
            {/* Legs */}
            <rect x="70" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
            <rect x="120" y="150" width="10" height="20" rx="5" fill="#FFB6C1" />
          </svg>
        );


        // Define o conte√∫do para cada se√ß√£o FORA do componente App
        const sections = [
          {
            type: 'text',
            title: 'Um Carinho Especial para Voc√™!',
            message: 'Querida Mafe, este √© um pequeno homenagem para celebrar a pessoa incr√≠vel que voc√™ √©. Cada pedacinho deste app foi feito com muito amor e carinho, pensando em voc√™!',
            bgColor: 'bg-pink-100', // Fundo rosa claro
            textColor: 'text-pink-800' // Texto rosa mais escuro
          },
          {
            type: 'image',
            title: 'Nos conhec√≠amos s√≥ de vista',
            imageUrl: 'https://i.imgur.com/fqnqHkL.png',
            message: '√Äs vezes, vc me dava bom dia pela janela, mas era s√≥ isso.',
            bgColor: 'bg-green-100', // Fundo verde claro
            textColor: 'text-green-800' // Texto verde mais escuro
          },
          {
            type: 'flower-customizer', // Tipo de se√ß√£o para personaliza√ß√£o de flores
            title: 'Flores para Voc√™!',
            messagePart1: 'Que a sua vida seja sempre florida e cheia de cores! Como sei que voc√™ gosta de colorir, coloquei uma fun√ß√£o para que voc√™ consiga mudar a cor de cada flor.', // First part of the message
            messagePart2: 'Clique nas flores para mudar a cor das p√©talas:', // Second part, to be black and on a new line
            bgColor: 'bg-pink-100',
            textColor: 'text-pink-800'
          },
          {
            type: 'image',
            title: 'Posteriormente, viemos a nos conhecer melhor e voc√™ rapidamente virou a melhor vizinha <3',
            imageUrl: 'https://i.imgur.com/BxDppMv.png',
            message: 'E assim, a vida nos uniu de um jeito especial, transformando nossa forma de ser vizinhos :D!.',
            bgColor: 'bg-green-100',
            textColor: 'text-green-800'
          },
          {
            type: 'text',
            title: 'Sua Lealdade e Dedica√ß√£o me inspiram',
            message: 'Voc√™ √© uma inspira√ß√£o para mim, sua maneira de ser leal, parceira e a forma como voc√™ pratica isto s√£o muito belas!. Admiro muito sua determina√ß√£o!',
            bgColor: 'bg-pink-100',
            textColor: 'text-pink-800'
          },
          {
            type: 'image',
            title: 'Enfrentamos inimigos, rimos e nos divertimos bastante.',
            imageUrl: 'https://i.imgur.com/lTWUWYV.png',
            message: 'Nosso barquinho n√£o deu muito certo :/! kksksks.',
            bgColor: 'bg-green-100',
            textColor: 'text-green-800'
          },
          {
            type: 'image',
            title: 'Passado algum tempo, voc√™ teve alguns probleminhas de sa√∫de...',
            imageUrl: 'https://i.imgur.com/lriq4Mb.png',
            message: 'Tentei ao m√°ximo ajudar, mas n√£o fui muito √∫til. S√≥ consegui fazer companhia mesmo. Me desculpe!.',
            bgColor: 'bg-pink-100',
            textColor: 'text-pink-800'
          },
          {
            type: 'image',
            title: 'O tempo foi passando e nos tornamos a melhor dupla do Fortnite ;D!',
            imageUrl: 'https://i.imgur.com/h9t2o12.jpeg',
            message: 'Nossas vit√≥rias no Fortnite, assim como as casas construidas foram mto legais, mas mais importante que isto, √© sempre a parceria e passarmos o tempo juntos!',
            bgColor: 'bg-green-100',
            textColor: 'text-green-800'
          },
          {
            type: 'text',
            title: 'Aventuras e Companheirismo',
            message: 'Cada aventura ou jogatina, por menor que seja, se torna sempre √∫nica quando contigo. Sua companhia torna tudo mais especial :)!',
            bgColor: 'bg-pink-100',
            textColor: 'text-pink-800'
          },
          {
            type: 'image',
            title: 'Mais a frente, algo me deixou muito triste...',
            imageUrl: 'https://i.imgur.com/uLgusSs.png',
            message: 'Voc√™ percebeu o que estava acontecendo...',
            bgColor: 'bg-green-100',
            textColor: 'text-green-800'
          },
          {
            type: 'text',
            title: 'Nossa Amizade: Um V√≠nculo Inquebr√°vel',
            message: 'Nossa amizade √© um tesouro que o tempo s√≥ fortalece. Sou grato por cada momento e por ter voc√™ na minha vida.',
            bgColor: 'bg-pink-100',
            textColor: 'text-pink-800'
          },
          {
            type: 'image',
            title: 'Voc√™ foi ao meu socorro e me apoiou.',
            imageUrl: 'https://i.imgur.com/rUKzlqw.png',
            message: 'Sua presen√ßa e apoio foram um porto seguro quando mais precisei. Sou eternamente grato por sua dedica√ß√£o e carinho.',
            bgColor: 'bg-green-100',
            textColor: 'text-green-800'
          },
          {
            type: 'final-message', // New type for the final message section
            title: 'Espero que este pequeno presente traga um sorriso ao seu rosto!', // Main title of the section
            imageUrl: 'https://i.imgur.com/B51BG2d.png', // Image for this section
            messagePart1: '.', // First part of the message
            messagePart2: 'Saiba que voc√™ √© muito especial para mim!!!', // Second part, on a new line
            signature: 'Com carinho, Guilherme', // The signature text
            bgColor: 'bg-green-100',
            textColor: 'text-green-800'
          },
          {
            type: 'pig-generator-emotions', // Changed type to pig drawing generator with emotions
            title: 'üê∑ Porquinho do Dia!',
            message: 'Escolha um humor e veja um porquinho fofo aparecer:',
            bgColor: 'bg-pink-100',
            textColor: 'text-pink-800'
          },
        ];

        // Mapeamento de emo√ß√µes para componentes SVG de porquinhos
        const piggyEmotions = {
          'feliz': <PiggyHappy key="happy" />,
          'triste': <PiggySad key="sad" />,
          'bravo': <PiggyAngry key="angry" />,
          'serio': <PiggySerious key="serious" />,
          'oculos': <PiggyGlasses key="glasses" />,
          'beijo': <PiggyKiss key="kiss" />,
        };

        // Main App component
        const App = () => {
          const { useState, useEffect, useRef } = React; // Desestruturar React hooks

          // Estado para controlar a se√ß√£o ativa
          const [currentSectionIndex, setCurrentSectionIndex] = useState(0);
          // Ref para o cont√™iner principal para controle de rolagem/transforma√ß√µes
          const appContainerRef = useRef(null);
          // Estado para gerenciar transi√ß√µes suaves
          const [isAnimating, setIsAnimating] = useState(false);
          // Estado para a mensagem selecionada aleatoriamente
          const [selectedMessage, setSelectedMessage] = useState('');

          // Estado para as cores das flores individuais
          const [flowerColors, setFlowerColors] = useState([
            { id: 1, color: '#FFC0CB' }, // Rosa
            { id: 2, color: '#0000FF' }, // Azul
            { id: 3, color: '#FFFF00' }, // Amarelo
            { id: 4, color: '#800080' }, // Roxo
            { id: 5, color: '#FF0000' }, // Vermelho
          ]);
          // Estado para controlar qual flor tem a paleta de cores aberta
          const [selectedFlowerIdForColorPicker, setSelectedFlowerIdForColorPicker] = useState(null);
          // Estado para a posi√ß√£o da paleta de cores (n√£o mais usado diretamente na ColorPalette, mas mantido para refer√™ncia)
          const [colorPalettePosition, setColorPalettePosition] = useState({ x: 0, y: 0 });

          // Estado para os cora√ß√µes piscantes
          const [hearts, setHearts] = useState([]);

          // Estado para o porquinho fofo atual (agora baseado na emo√ß√£o)
          const [currentEmotionalPiggy, setCurrentEmotionalPiggy] = useState(null);

          // Array de 50 mensagens de amizade predefinidas
          const friendshipMessages = [
            "Nossa amizade √© um presente precioso que guardo com muito carinho.",
            "Ter voc√™ na minha vida faz tudo ser mais leve e divertido.",
            "Sua amizade √© um porto seguro, um lugar onde sempre encontro paz.",
            "Agrade√ßo por cada risada, cada conselho e cada momento ao seu lado.",
            "Voc√™ √© a prova de que anjos existem e andam por a√≠, disfar√ßados de amigos.",
            "Com voc√™, cada dia √© uma nova aventura e uma nova alegria.",
            "Sua presen√ßa ilumina meus dias e aquece meu cora√ß√£o.",
            "Amigos como voc√™ s√£o raros e devem ser celebrados todos os dias.",
            "Obrigado por ser essa pessoa incr√≠vel e por fazer parte da minha hist√≥ria.",
            "Que a nossa amizade continue crescendo e florescendo a cada dia.",
            "Nosso la√ßo √© forte e verdadeiro, capaz de superar qualquer dist√¢ncia.",
            "Sua lealdade e carinho s√£o qualidades que admiro profundamente em voc√™.",
            "√â um privil√©gio ter voc√™ como amigo, confidente e parceiro de todas as horas.",
            "Voc√™ me inspira a ser uma pessoa melhor, a cada novo dia.",
            "As melhores lembran√ßas s√£o as que constru√≠mos juntos.",
            "Que a felicidade te encontre em cada esquina e te abrace com carinho.",
            "Sua amizade √© um tesouro que guardo no mais profundo do meu ser.",
            "Mesmo longe, sinto sua energia e seu carinho me envolvendo.",
            "Conte comigo para tudo, em qualquer momento e em qualquer situa√ß√£o.",
            "Nossa conex√£o √© √∫nica, especial e para sempre.",
            "Voc√™ √© o irm√£o que a vida me deu, um presente inestim√°vel.",
            "Que a vida te reserve as mais belas surpresas e as maiores alegrias.",
            "Sua alegria √© contagiante e seu sorriso ilumina qualquer ambiente.",
            "A verdadeira amizade n√£o se mede pelo tempo, mas pela intensidade.",
            "Obrigado por ser meu ombro amigo, meu conselheiro e meu c√∫mplice.",
            "Que todos os seus sonhos se realizem e que eu possa estar l√° para celebrar.",
            "Sua presen√ßa √© um b√°lsamo para a alma, um abra√ßo que conforta.",
            "Voc√™ √© a estrela que guia meus passos nos momentos de escurid√£o.",
            "A vida √© muito mais bonita e divertida com voc√™ por perto.",
            "Que a nossa amizade seja eterna, forte e inabal√°vel.",
            "Sua ess√™ncia √© pura luz, e ter voc√™ por perto √© um privil√©gio.",
            "Em cada fase da vida, sua amizade √© um suporte incondicional.",
            "Agrade√ßo por sua paci√™ncia, sua compreens√£o e seu amor incondicional.",
            "Voc√™ √© uma joia rara, um diamante lapidado pela vida.",
            "Que a nossa amizade seja um farol, iluminando nossos caminhos.",
            "Sua bondade e generosidade s√£o inspiradores.",
            "N√£o h√° palavras para descrever o quanto sua amizade significa para mim.",
            "Voc√™ √© a melodia que embala meus dias e a poesia que acalma minha alma.",
            "Que a vida te presenteie com tudo de mais lindo e verdadeiro.",
            "Ter voc√™ como amigo √© ter a certeza de que nunca estarei sozinho.",
            "Sua amizade √© um abra√ßo apertado que sinto mesmo √† dist√¢ncia.",
            "Voc√™ √© a cor que faltava na minha paleta de cores da vida.",
            "Que a nossa amizade seja um jardim, sempre florido e cheio de vida.",
            "Sua sabedoria e seu bom humor s√£o contagiantes.",
            "Agrade√ßo por cada ensinamento, cada aprendizado e cada experi√™ncia vivida com voc√™.",
            "Voc√™ √© a for√ßa que me impulsiona a ir al√©m, a ser melhor.",
            "Nossa amizade √© um elo inquebr√°vel, constru√≠do com amor e respeito.",
            "Que a felicidade seja sua companheira em todas as jornadas.",
            "Sua amizade √© um presente divino, uma ben√ß√£o em minha vida.",
            "Para o melhor amigo do mundo: voc√™ √© incr√≠vel!"
          ];

          // Fun√ß√£o para navegar para a pr√≥xima se√ß√£o
          const goToNextSection = () => {
            if (isAnimating) return;
            setIsAnimating(true);
            setCurrentSectionIndex((prevIndex) => (prevIndex + 1) % sections.length);
          };

          // Fun√ß√£o para navegar para a se√ß√£o anterior
          const goToPreviousSection = () => {
            if (isAnimating) return;
            setIsAnimating(true);
            setCurrentSectionIndex((prevIndex) => (prevIndex - 1 + sections.length) % sections.length);
          };

          // Efeito para lidar com navega√ß√£o por teclado (ArrowUp e ArrowDown)
          useEffect(() => {
            const handleKeyDown = (event) => {
              if (event.key === 'ArrowDown') {
                goToNextSection();
              } else if (event.key === 'ArrowUp') {
                goToPreviousSection();
              }
            };

            window.addEventListener('keydown', handleKeyDown);
            return () => {
              window.removeEventListener('keydown', handleKeyDown);
            };
          }, [isAnimating]);

          // Efeito para lidar com gestos de deslizar para navega√ß√£o m√≥vel
          useEffect(() => {
            let touchStartY = 0;
            let touchEndY = 0;

            const handleTouchStart = (e) => {
              touchStartY = e.touches[0].clientY;
            };

            const handleTouchMove = (e) => {
              touchEndY = e.touches[0].clientY;
            };

            const handleTouchEnd = () => {
              if (touchStartY - touchEndY > 50) { // Deslizou para cima
                goToNextSection();
              } else if (touchEndY - touchStartY > 50) { // Deslizou para baixo
                goToPreviousSection();
              }
              touchStartY = 0;
              touchEndY = 0;
            };

            const container = appContainerRef.current;
            if (container) {
              container.addEventListener('touchstart', handleTouchStart);
              container.addEventListener('touchmove', handleTouchMove);
              container.addEventListener('touchend', handleTouchEnd);
            }

            return () => {
              if (container) {
                container.removeEventListener('touchstart', handleTouchStart);
                container.removeEventListener('touchmove', handleTouchMove);
                container.removeEventListener('touchend', handleTouchEnd);
              }
            };
          }, [isAnimating]);

          // Efeito para redefinir o estado da anima√ß√£o ap√≥s a conclus√£o da transi√ß√£o
          useEffect(() => {
            const container = appContainerRef.current;
            const handleTransitionEnd = () => {
              setIsAnimating(false);
            };

            if (container) {
              const sectionWrapper = container.querySelector('.section-wrapper');
              if (sectionWrapper) {
                sectionWrapper.addEventListener('transitionend', handleTransitionEnd);
              }
            }

            return () => {
              if (container) {
                const sectionWrapper = container.querySelector('.section-wrapper');
                if (sectionWrapper) {
                  sectionWrapper.removeEventListener('transitionend', handleTransitionEnd);
                }
              }
            };
          }, [currentSectionIndex]);

          // Efeito para gerar e remover cora√ß√µes piscantes
          useEffect(() => {
            // Encontra o √≠ndice da se√ß√£o de sa√∫de pelo t√≠tulo
            const targetSectionIndex = sections.findIndex(s => s.title === 'Passado algum tempo, voc√™ teve alguns probleminhas de sa√∫de...');
            let intervalId;

            // Verifica se a se√ß√£o atual √© a se√ß√£o de sa√∫de
            if (currentSectionIndex === targetSectionIndex) {
              console.log('Ativando gera√ß√£o de cora√ß√µes para a se√ß√£o:', sections[currentSectionIndex].title); // Log de depura√ß√£o
              intervalId = setInterval(() => {
                const newHeart = {
                  id: Date.now() + Math.random(), // ID √∫nico para o cora√ß√£o
                  x: Math.random() * 90, // Posi√ß√£o X aleat√≥ria (0-90%)
                  y: Math.random() * 90, // Posi√ß√£o Y aleat√≥ria (0-90%)
                  delay: Math.random() * 1, // Atraso aleat√≥rio para a anima√ß√£o (0-1s)
                  duration: 3 + Math.random() * 2, // Dura√ß√£o aleat√≥ria para o ciclo de piscar (3-5s)
                };
                setHearts(prevHearts => [...prevHearts, newHeart]); // Adiciona o novo cora√ß√£o ao estado
                console.log('Cora√ß√£o adicionado:', newHeart); // Log de depura√ß√£o

                // Remove o cora√ß√£o ap√≥s sua dura√ß√£o para evitar ac√∫mulo
                setTimeout(() => {
                  setHearts(prevHearts => prevHearts.filter(heart => heart.id !== newHeart.id));
                  console.log('Cora√ß√£o removido:', newHeart.id); // Log de depura√ß√£o
                }, newHeart.duration * 1000); // Converte a dura√ß√£o para milissegundos
              }, 500); // Adiciona um novo cora√ß√£o a cada 0.5 segundos
            } else {
              console.log('N√£o est√° na se√ß√£o alvo para cora√ß√µes. √çndice atual:', currentSectionIndex); // Log de depura√ß√£o
            }

            // Fun√ß√£o de limpeza: limpa o intervalo e os cora√ß√µes ao sair da se√ß√£o ou desmontar o componente
            return () => {
              if (intervalId) {
                clearInterval(intervalId); // Limpa o intervalo de gera√ß√£o de cora√ß√µes
                console.log('Intervalo de cora√ß√£o limpo.'); // Log de depura√ß√£o
              }
              setHearts([]); // Limpa todos os cora√ß√µes do estado
            };
          }, [currentSectionIndex]); // Depend√™ncia apenas de currentSectionIndex, pois 'sections' √© constante agora

          // Fun√ß√£o para selecionar aleatoriamente uma mensagem de amizade (mantida para outras se√ß√µes, se houver)
          const selectRandomFriendshipMessage = () => {
            const randomIndex = Math.floor(Math.random() * friendshipMessages.length);
            setSelectedMessage(friendshipMessages[randomIndex]);
          };

          // Fun√ß√£o para lidar com o clique na flor e abrir a paleta de cores
          const handleFlowerClick = (id, event) => {
            console.log('Flower clicked:', id, 'ClientX:', event.clientX, 'ClientY:', event.clientY); // Linha de depura√ß√£o
            setSelectedFlowerIdForColorPicker(id);
            const rect = event.currentTarget.getBoundingClientRect();
            setColorPalettePosition({
              x: rect.left + rect.width / 2,
              y: rect.top + rect.height / 2,
            });
          };

          // Fun√ß√£o para selecionar uma nova cor para a flor
          const handleColorSelect = (newColor) => {
            setFlowerColors((prevColors) =>
              prevColors.map((flower) =>
                flower.id === selectedFlowerIdForColorPicker ? { ...flower, color: newColor } : flower
              )
            );
            setSelectedFlowerIdForColorPicker(null); // Fecha a paleta
          };

          // Fun√ß√£o para gerar porquinho por emo√ß√£o
          const generatePiggyByEmotion = (emotion) => {
            setCurrentEmotionalPiggy(piggyEmotions[emotion]);
          };

          return (
            // Cont√™iner principal para o aplicativo, cobrindo toda a viewport
            <div
              ref={appContainerRef}
              className="relative w-screen h-screen overflow-hidden font-inter"
              style={{ fontFamily: 'Inter, sans-serif' }}
            >
              {/* Cont√™iner para todas as se√ß√µes, que ser√£o transformadas para mostrar a se√ß√£o atual */}
              <div
                className="section-wrapper w-full h-full transition-transform duration-700 ease-in-out"
                style={{ transform: `translateY(-${currentSectionIndex * 100}vh)` }}
              >
                {sections.map((section, index) => (
                  // Cada se√ß√£o ocupa a altura e largura total da viewport
                  <div
                    key={index}
                    className={`w-full h-screen flex flex-col items-center justify-center p-8 text-center rounded-lg shadow-lg ${section.bgColor} ${section.textColor} relative`}
                  >
                    {/* T√≠tulo proeminente "Mafe <3" - Agora dentro da primeira se√ß√£o */}
                    {index === 0 && (
                      <h1 className="text-6xl md:text-7xl font-extrabold text-pink-600 drop-shadow-lg animate-pulse mb-8">
                        Mafe {'<3'}
                      </h1>
                    )}
                    <h2 className="text-4xl md:text-5xl font-bold mb-6 rounded-md p-2">
                      {section.title}
                    </h2>
                    {section.type === 'text' && (
                      <p className="text-xl md:text-2xl max-w-2xl leading-relaxed rounded-md p-3">
                        {section.message}
                      </p>
                    )}
                    {section.type === 'image' && (
                      <>
                        <img
                          src={section.imageUrl}
                          alt={section.title}
                          className="max-w-full max-h-96 object-contain rounded-xl shadow-xl mb-6 border-4 border-white"
                          onError={(e) => {
                            e.target.onerror = null;
                            e.target.src = 'https://placehold.co/600x400/CCCCCC/333333?text=Imagem+N√£o+Dispon√≠vel';
                          }}
                        />
                        <p className="text-xl md:text-2xl max-w-2xl leading-relaxed rounded-md p-3">
                          {section.message}
                        </p>
                        {/* Renderizar cora√ß√µes se for a se√ß√£o de sa√∫de */}
                        {section.title === 'Passado algum tempo, voc√™ teve alguns probleminhas de sa√∫de...' && (
                          hearts.map(heart => (
                            <BlinkingHeart
                              key={heart.id}
                              x={heart.x}
                              y={heart.y}
                              delay={heart.delay}
                              duration={heart.duration}
                            />
                          ))
                        )}
                      </>
                    )}
                    {section.type === 'flower-customizer' && (
                      <>
                        <p className="text-xl md:text-2xl max-w-2xl leading-relaxed rounded-md p-3">
                          {section.messagePart1}
                        </p>
                        <p className="text-xl md:text-2xl max-w-2xl leading-relaxed rounded-md p-3 mb-6 text-black"> {/* Separated and colored black */}
                          {section.messagePart2}
                        </p>
                        {/* Cont√™iner para m√∫ltiplas flores alinhadas horizontalmente */}
                        <div className="flex justify-center items-end h-1/2 w-full relative z-10">
                          {flowerColors.map((flower) => (
                            <FlowerDrawing
                              key={flower.id}
                              petalColor={flower.color}
                              scale={1}
                              onClick={(e) => handleFlowerClick(flower.id, e)}
                            />
                          ))}
                          {selectedFlowerIdForColorPicker && (
                            <ColorPalette
                              onSelectColor={handleColorSelect}
                              onClose={() => setSelectedFlowerIdForColorPicker(null)}
                              // A prop 'position' n√£o √© mais passada, pois a paleta est√° centralizada
                            />
                          )}
                        </div>
                        {/* Simula√ß√£o de grama */}
                        <div className="absolute bottom-0 left-0 w-full h-1/4 bg-green-700 rounded-t-full z-0"
                             style={{ clipPath: 'ellipse(50% 100% at 50% 100%)' }}>
                        </div>
                      </>
                    )}
                    {section.type === 'final-message' && (
                      <>
                        <img
                          src={section.imageUrl}
                          alt={section.title}
                          className="max-w-full max-h-96 object-contain rounded-xl shadow-xl mb-6 border-4 border-white"
                          onError={(e) => {
                            e.target.onerror = null;
                            e.target.src = 'https://placehold.co/600x400/CCCCCC/333333?text=Imagem+N√£o+Dispon√≠vel';
                          }}
                        />
                        <p className="text-xl md:text-2xl max-w-2xl leading-relaxed rounded-md p-3">
                          {section.messagePart1}
                        </p>
                        <p className="text-xl md:text-2xl max-w-2xl leading-relaxed rounded-md p-3 text-black"> {/* Separated and colored black */}
                          {section.messagePart2}
                        </p>
                        <p className="italic font-semibold text-2xl md:text-3xl mt-4 text-pink-700"> {/* Signature styling */}
                          {section.signature}
                        </p>
                      </>
                    )}
                    {section.type === 'pig-generator-emotions' && ( // Updated rendering for pig drawing section
                      <>
                        <p className="text-xl md:text-2xl max-w-2xl leading-relaxed rounded-md p-3 mb-6">
                          {section.message}
                        </p>
                        <div className="flex flex-wrap justify-center gap-4 mb-8">
                          <button onClick={() => generatePiggyByEmotion('feliz')} className="p-3 bg-green-300 text-white rounded-full shadow-lg hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-300 ease-in-out text-3xl" aria-label="Porquinho Feliz">üòä</button>
                          <button onClick={() => generatePiggyByEmotion('triste')} className="p-3 bg-blue-300 text-white rounded-full shadow-lg hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition duration-300 ease-in-out text-3xl" aria-label="Porquinho Triste">üòî</button>
                          <button onClick={() => generatePiggyByEmotion('bravo')} className="p-3 bg-red-300 text-white rounded-full shadow-lg hover:bg-red-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75 transition duration-300 ease-in-out text-3xl" aria-label="Porquinho Bravo">üò°</button>
                          <button onClick={() => generatePiggyByEmotion('serio')} className="p-3 bg-gray-300 text-white rounded-full shadow-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 transition duration-300 ease-in-out text-3xl" aria-label="Porquinho S√©rio">üòê</button>
                          <button onClick={() => generatePiggyByEmotion('oculos')} className="p-3 bg-yellow-300 text-white rounded-full shadow-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-75 transition duration-300 ease-in-out text-3xl" aria-label="Porquinho com √ìculos">ü§ì</button>
                          <button onClick={() => generatePiggyByEmotion('beijo')} className="p-3 bg-pink-300 text-white rounded-full shadow-lg hover:bg-pink-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75 transition duration-300 ease-in-out text-3xl" aria-label="Porquinho Mandando Beijo">üòò</button>
                        </div>
                        {currentEmotionalPiggy && (
                          <div className="mt-8">
                            {currentEmotionalPiggy}
                          </div>
                        )}
                      </>
                    )}
                  </div>
                ))}
              </div>

              {/* Setas de navega√ß√£o (opcional, pois teclado/deslizar s√£o prim√°rios) */}
              <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-4">
                <button
                  onClick={goToPreviousSection}
                  className="p-3 bg-pink-300 text-white rounded-full shadow-lg hover:bg-pink-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75 transition duration-300 ease-in-out"
                  aria-label="Se√ß√£o Anterior"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                  </svg>
                </button>
                <button
                  onClick={goToNextSection}
                  className="p-3 bg-green-300 text-white rounded-full shadow-lg hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-300 ease-in-out"
                  aria-label="Pr√≥xima Se√ß√£o"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                  </svg>
                </button>
              </div>
            </div>
          );
        };

        // Renderiza o componente principal React no elemento com id 'root'
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
